(this["webpackJsonpcovid-5km-overlap"]=this["webpackJsonpcovid-5km-overlap"]||[]).push([[0],{135:function(e,n,t){},136:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(7),o=t.n(i),l=(t(70),t(8)),c=t(3),u=t(20),s=t(6),f=t(15),d=Object(f.cleanEnv)(Object({NODE_ENV:"production",PUBLIC_URL:"/covid-5km-overlap-finder",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ALGOLIA_PLACES_APP_ID:"pl0BG9XYHNCK",REACT_APP_GOOGLE_API_KEY:"AIzaSyAmFD381qxEbAMHIgWtPJk-YkA4XCHKtfE",REACT_APP_ALGOLIA_PLACES_API_KEY:"582a61e561e3dc45433e868c22593a87",REACT_APP_GOOGLE_ANALYTICS_TRACKING_CODE:"UA-177861037-1",REACT_APP_MAPBOX_API_KEY:"pk.eyJ1Ijoiam1hcmdlbmJlcmciLCJhIjoiY2tmMHIyY2twMWc4NDJ2bWYwYjJ3dnV6NSJ9.40NfXdTrb1lMO0tqEZ76BQ",REACT_APP_PAYPAL_HOSTED_BUTTON_ID:"K7QPUZB4R8WRS"}),{REACT_APP_GOOGLE_ANALYTICS_TRACKING_CODE:Object(f.str)({require:!0}),REACT_APP_MAPBOX_API_KEY:Object(f.str)({require:!0}),REACT_APP_ALGOLIA_PLACES_APP_ID:Object(f.str)({require:!0}),REACT_APP_ALGOLIA_PLACES_API_KEY:Object(f.str)({require:!0})}),m=Object(u.b)({accessToken:d.REACT_APP_MAPBOX_API_KEY}),v=[[145.151596,-37.723742],[144.793065,-37.927951]],A={steps:1e3,units:"kilometers"},E={myExclusiveAreaLinePaint:{"line-color":"#5eb0c2","line-width":1},myExclusiveAreaFillPaint:{"fill-color":"#5eb0c2","fill-opacity":.25},theirExclusiveAreaLinePaint:{"line-color":"#52bf83","line-width":1},theirExclusiveAreaFillPaint:{"fill-color":"#52bf83","fill-opacity":.25},inaccessibleAreaFillPaint:{"fill-color":"black","fill-opacity":.25}},_=function(e){return e},p=function(e){var n=e.myLocation,t=e.theirLocation,r=void 0!==n&&void 0!==t,i=(void 0!==n||void 0!==t)&&!r,o=n&&s.circle(n,5,A),c=t&&s.circle(t,5,A),f=r?s.intersect(o,c):void 0,d=r?s.difference(o,c):o,p=r?s.difference(c,o):c,P=s.featureCollection([d,p,f].filter(_)),b=s.mask(P),h={};if(r||i){var g=s.bbox(P),x=Object(l.a)(g,4),O=x[0],y=x[1],L=x[2],C=x[3],j=r?s.lengthToDegrees(1,"kilometers"):s.lengthToDegrees(5,"kilometers");h={fitBounds:[[O-j,y-j],[L+j,C+j]]}}else h={fitBounds:v};return a.a.createElement(m,Object.assign({style:"mapbox://styles/mapbox/streets-v11",containerStyle:{flex:1},movingMethod:"flyTo"},h),a.a.createElement(u.a,{data:s.featureCollection([d].filter(_)),linePaint:E.myExclusiveAreaLinePaint,fillPaint:E.myExclusiveAreaFillPaint}),a.a.createElement(u.a,{data:s.featureCollection([p].filter(_)),linePaint:E.theirExclusiveAreaLinePaint,fillPaint:E.theirExclusiveAreaFillPaint}),a.a.createElement(u.a,{data:b,fillPaint:E.inaccessibleAreaFillPaint}))},P=t(4),b=t(19),h=t.n(b),g=t(37),x=t(64),O=t(63),y=t(34),L=t.n(y),C=t(60),j=t.n(C);function w(){var e=Object(c.a)(["\n  margin: 5px;\n"]);return w=function(){return e},e}var I=L.a.initPlaces(d.REACT_APP_ALGOLIA_PLACES_APP_ID,d.REACT_APP_ALGOLIA_PLACES_API_KEY),T={hitsPerPage:5,language:"en",countries:["au"],aroundLatLng:"-37.816204,144.957489",aroundRadius:7e4},S=P.a.div(w()),k=j()((function(e){return new Promise((function(n,t){e?I.search(Object(x.a)({query:e},T),(function(e,r){if(e)return t(e);n(r)})):n([])}))}),1e3),R=function(e){return e},G=function(e){return[e.locale_names?e.locale_names[0]:void 0,(e.suburb?e.suburb[0]:void 0)||(e.city?e.city[0]:void 0),e.administrative?e.administrative[0]:void 0].filter(R).join(", ")},Y=function(e){var n=e.onLocationSelected,t=e.placeholder,r=function(){var e=Object(g.a)(h.a.mark((function e(n){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(n);case 2:return r=e.sent,e.abrupt("return",null===r||void 0===r||null===(t=r.hits)||void 0===t?void 0:t.map((function(e){return{value:e,label:G(e)}})));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),i=function(){var e=Object(g.a)(h.a.mark((function e(t){var r,a,i,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||null==t){e.next=7;break}return i=t.value,o=[null===i||void 0===i||null===(r=i._geoloc)||void 0===r?void 0:r.lng,null===i||void 0===i||null===(a=i._geoloc)||void 0===a?void 0:a.lat],e.next=5,n(o);case 5:e.next=9;break;case 7:return e.next=9,n(void 0);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return a.a.createElement(S,null,a.a.createElement(O.a,{defaultOptions:!0,placeholder:t,loadOptions:r,onChange:i,isClearable:!0}))};function D(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n\n  max-width: 500px;\n  margin: 5px;\n"]);return D=function(){return e},e}var K=P.a.div(D()),N=function(e){var n=e.myLocationSelected,t=e.theirLocationSelected;return a.a.createElement(K,null,a.a.createElement(Y,{onLocationSelected:n,placeholder:"Where do you live?"}),a.a.createElement(Y,{onLocationSelected:t,placeholder:"Where do they live?"}))},B=t(40),W=t(62),M=t(14);t(135);function J(){var e=Object(c.a)(["\n  color: #222;\n"]);return J=function(){return e},e}function q(){var e=Object(c.a)(["\n  text-align: center;\n  font-size: 0.9em;\n\n  margin-top: 5px;\n  margin-bottom: 5px;\n  color: #333333;\n"]);return q=function(){return e},e}function F(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n\n  margin-left: 40px;\n  margin-right: 40px;\n"]);return F=function(){return e},e}function H(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n\n  margin-left: 15px;\n"]);return H=function(){return e},e}function X(){var e=Object(c.a)(["\n  flex-grow: 2;\n  color: #333333;\n  text-align: center;\n\n  margin-top: 10px;\n  margin-bottom: 10px;\n  margin-left: 0px;\n  margin-right: 15px;\n"]);return X=function(){return e},e}function U(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: row;\n\n  margin-top: 5px;\n  margin-bottom: 5px;\n  margin-left: 20px;\n  margin-right: 20px;\n"]);return U=function(){return e},e}function z(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n\n  max-width: 500px;\n  background-color: orange;\n"]);return z=function(){return e},e}var Q=P.a.div(z()),V=P.a.div(U()),Z=P.a.h4(X()),$=P.a.div(H()),ee=P.a.div(F()),ne=P.a.p(q()),te=P.a.a(J()),re=function(){var e=Object(r.useState)(!1),n=Object(l.a)(e,2),t=n[0],i=n[1],o=function(){i((function(e){return!e}))};return a.a.createElement(Q,null,a.a.createElement(V,null,a.a.createElement(Z,{onClick:o},"We are looking for a sponsor!"),a.a.createElement($,{onClick:o},a.a.createElement(W.a,{icon:t?M.b:M.a,style:{display:"flex"}}))),a.a.createElement(ee,{className:t?"shown":"hidden"},a.a.createElement(ne,null,"Melbourne users are loving this app!"),a.a.createElement(ne,null,"I'm receiving tonnes of traffic but unfortunately the costs (address search API fees) are getting too great for me to fund out of my own pocket."),a.a.createElement(ne,null,"I'd be delighted if a brand, be it a news site, cultural site, digital brand or any business is interested in adopting this site for full branding and/or redirection to a white-labeled version."),a.a.createElement(ne,null,"If you are interested please contact"," ",a.a.createElement(te,{href:"mailto:covid.5km.overlap.finder@gmail.com"},"covid.5km.overlap.finder@gmail.com"),".")))},ae=t(18);function ie(){var e=Object(c.a)(["\n  flex-grow: 1;\n  display: flex;\n  align-items: stretch;\n  justify-content: stretch;\n"]);return ie=function(){return e},e}function oe(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  justify-content: center;\n"]);return oe=function(){return e},e}function le(){var e=Object(c.a)(["\n  height: 100vh;\n  position: absolute;\n  width: 100vw;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  overflow-y: scroll;\n"]);return le=function(){return e},e}var ce=P.a.div(le()),ue=P.a.div(oe()),se=P.a.div(ie());ae.b.add(M.a,M.b),B.a.initialize(d.REACT_APP_GOOGLE_ANALYTICS_TRACKING_CODE),B.a.pageview(window.location.pathname+window.location.search);var fe=function(){var e=Object(r.useState)(void 0),n=Object(l.a)(e,2),t=n[0],i=n[1],o=Object(r.useState)(void 0),c=Object(l.a)(o,2),u=c[0],s=c[1];return a.a.createElement(ce,null,a.a.createElement(ue,{style:{backgroundColor:"orange"}},a.a.createElement(re,null)),a.a.createElement(ue,null,a.a.createElement(N,{myLocationSelected:i,theirLocationSelected:s})),a.a.createElement(se,null,a.a.createElement(p,{myLocation:t,theirLocation:u})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},65:function(e,n,t){e.exports=t(136)},70:function(e,n,t){}},[[65,1,2]]]);
//# sourceMappingURL=main.e7861056.chunk.js.map